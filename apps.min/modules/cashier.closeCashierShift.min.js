/**
 * Filename: cashier.closeCashierShift.js
 * Generated 2018-09-04 at 08:55:49 PM
 */
Ext.define('ExtApp.modules.billing.store.store_tipeShift',{extend:'Ext.data.Store',fields:['val','name'],data:[{"val":"0","name":"All Shift"},{"val":"1","name":"Morning Shift"},{"val":"2","name":"Evening Shift"}],autoLoad:false});Ext.define("ExtApp.modules.cashier.view.closeCashierShift",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var phpJs=theApp.getHelper('phpJs');var required='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var store_tipe_shift=new Ext.data.Store({fields:['val','name'],data:[{"val":"1","name":"Morning Shift"},{"val":"2","name":"Evening Shift"}],autoLoad:true});return desktop.createWindow({id:me.id,title:'Close Cashier (Shift)',width:600,height:470,iconCls:'user',animCollapse:false,constrainHeader:true,resizable:false,minimizable:false,maximizable:false,border:0,layout:{type:'fit'},items:[{xtype:'form',id:'form_closeCashierShift',width:600,height:470,border:false,bodyBorder:false,fieldDefaults:{labelWidth:80,msgTarget:'side',autoFitErrors:false},layout:{type:'auto'},items:[{xtype:'panel',defaultType:'textfield',border:0,height:120,layout:{type:'border'},items:[{xtype:'panel',defaultType:'textfield',bodyPadding:5,border:0,region:'center',layout:{type:'auto'},items:[{xtype:'hidden',name:'id'},{xtype:'hidden',name:'tipe_shift',value:'close'},{xtype:'hidden',name:'user_shift'},{id:me.id+'_CloseShift_spv',hidden:true,name:'spv_user',allowEmpty:false},{xtype:'combobox',name:'get_user_shift',id:'user_shift_closeCashierShift',fieldLabel:'Shift',anchor:'100%',store:store_tipe_shift,queryMode:'local',hiddenName:"val",displayField:'name',valueField:'val',typeAhead:true,minChars:1,forceSelection:true,allowBlank:false,listeners:{select:function(){me.load_closeCashierShift();}}},{fieldLabel:'User',name:'kasir_user',readOnly:true,allowEmpty:false},{fieldLabel:'Tanggal',name:'tanggal_shift',readOnly:true,allowEmpty:false},{fieldLabel:'Jam',name:'jam_shift',allowEmpty:false}]},{xtype:'panel',defaultType:'textfield',bodyPadding:5,border:0,region:'east',layout:{type:'auto'},items:[{xtype:'textfield',fieldLabel:'Total Uang Kertas',name:'jumlah_uang_kertas',readOnly:true},{xtype:'textfield',fieldLabel:'Total Uang Koin',name:'jumlah_uang_koin',readOnly:true}]}]},{xtype:'panel',defaultType:'textfield',border:0,height:250,layout:{type:'border'},items:[{xtype:'panel',flex:1,border:0,region:'center',layout:'auto',items:[{xtype:'fieldset',title:'Uang Kertas (jumlah lembar)',height:250,defaultType:'numberfield',margin:'0 5 0 5',items:[{fieldLabel:'100.000',name:'uang_kertas_100000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_kertas();}}},{fieldLabel:'50.000',name:'uang_kertas_50000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_kertas();}}},{fieldLabel:'20.000',name:'uang_kertas_20000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_kertas();}}},{fieldLabel:'10.000',name:'uang_kertas_10000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_kertas();}}},{fieldLabel:'5.000',name:'uang_kertas_5000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_kertas();}}},{fieldLabel:'2.000',name:'uang_kertas_2000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_kertas();}}},{fieldLabel:'1.000',name:'uang_kertas_1000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_kertas();}}}]}]},{xtype:'panel',flex:1,border:0,region:'east',layout:'auto',items:[{xtype:'fieldset',title:'Uang Koin (jumlah koin)',height:250,defaultType:'numberfield',margin:'0 5 0 5',items:[{fieldLabel:'1000',name:'uang_koin_1000',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_koin();}}},{fieldLabel:'500',name:'uang_koin_500',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_koin();}}},{fieldLabel:'200',name:'uang_koin_200',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_koin();}}},{fieldLabel:'100',name:'uang_koin_100',minValue:0,allowDecimals:false,hideTrigger:true,listeners:{blur:function(){me.calc_uang_koin();}}}]}]}]}]}],buttons:[{text:'Save & Print',formBind:true,iconCls:'btn-print',listeners:{click:function(){me.Verify_closeCashierShift(true);}}},'->',{text:'Save',formBind:true,iconCls:'btn-save',listeners:{click:function(){me.Verify_closeCashierShift();}}},{text:'Save',formBind:true,id:me.id+'_CloseShift_save',iconCls:'btn-save',hidden:true,listeners:{click:function(){me.save_closeCashierShift();}}},{text:'Save',formBind:true,id:me.id+'_CloseShift_savePrint',iconCls:'btn-save',hidden:true,listeners:{click:function(){me.save_closeCashierShift(true);}}},{text:'Cancel',iconCls:'btn-cancel',handler:function(){me.doClose(me.id);}}],listeners:{show:function(){me.load_closeCashierShift();}}});}});