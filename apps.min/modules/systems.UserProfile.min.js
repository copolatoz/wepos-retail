/**
 * Filename: systems.UserProfile.js
 * Generated 2018-09-07 at 11:20:24 AM
 */
Ext.define("ExtApp.modules.systems.view.UserProfile",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var required='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';return desktop.createWindow({id:me.id,title:'User Profile',width:500,iconCls:'user',animCollapse:false,constrainHeader:true,resizable:false,minimizable:false,maximizable:false,border:0,layout:{type:'fit'},items:[{xtype:'form',id:'form_UserProfile',width:450,border:false,bodyBorder:false,fieldDefaults:{labelWidth:80,msgTarget:'side',autoFitErrors:false},items:{xtype:'tabpanel',minHeight:200,activeTab:0,border:false,defaults:{bodyPadding:'10 20 10 10',layout:'fit'},items:[{title:'Personal Details',layout:'fit',items:[{xtype:'panel',defaultType:'textfield',layout:{type:'anchor'},defaults:{allowBlank:false,anchor:'100%'},border:false,items:[{fieldLabel:'First Name',name:'firstname',afterLabelTextTpl:required,value:''},{fieldLabel:'Last Name',afterLabelTextTpl:required,name:'lastname',value:''},{fieldLabel:'Email',afterLabelTextTpl:required,name:'email',vtype:'email'}]}]},{title:'Phone Numbers',layout:'fit',items:[{xtype:'panel',defaultType:'textfield',layout:{type:'anchor'},defaults:{anchor:'100%'},border:false,items:[{fieldLabel:'Home',name:'phone'},{fieldLabel:'Mobile',name:'mobile'}]}]},{title:'Address',layout:'fit',items:[{xtype:'panel',defaultType:'textareafield',layout:{type:'anchor'},defaults:{anchor:'100%'},border:false,items:[{fieldLabel:'Address',name:'address'}]}]},{title:'Password',layout:'fit',items:[{xtype:'panel',defaultType:'textfield',layout:{type:'anchor'},defaults:{labelWidth:125,anchor:'100%'},border:false,items:[{fieldLabel:'Old Password',name:'old_pass',inputType:'password'},{fieldLabel:'New Password',name:'new_pass',inputType:'password',itemId:'pass',listeners:{validitychange:function(field){field.next().validate();},blur:function(field){field.next().validate();}}},{fieldLabel:'Confirm Password',name:'pass_confirm',inputType:'password',vtype:'password',initialPassField:'pass'},{xtype:'displayfield',fieldLabel:'User PIN',name:'user_pin'},{xtype:'checkbox',name:'change_pin',fieldLabel:'Change PIN',inputValue:'1'}]}]}]}}],buttons:[{text:'Save',formBind:true,id:'btnSave_UserProfile',iconCls:'btn-save',handler:function(){me.save_UserProfile();}},{text:'Cancel',iconCls:'btn-cancel',handler:function(){me.doClose(me.id);}}],listeners:{afterrender:function(){var userData=desktop.userConfig.user;var form=Ext.getCmp('form_UserProfile').getForm();form.reset();form.findField('firstname').setValue(userData.firstname);form.findField('lastname').setValue(userData.lastname);form.findField('email').setValue(userData.email);form.findField('phone').setValue(userData.phone);form.findField('mobile').setValue(userData.mobile);form.findField('address').setValue(userData.address);form.findField('user_pin').setValue(userData.user_pin);}}});}});