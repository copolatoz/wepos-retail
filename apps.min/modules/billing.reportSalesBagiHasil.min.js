/**
 * Filename: billing.reportSalesBagiHasil.js
 * Generated 2018-09-04 at 08:59:05 PM
 */
Ext.define('ExtApp.modules.master_pos.model.model_masterSupplier',{extend:'Ext.data.Model',alias:'model_masterSupplier',fields:[{name:'id',type:'int'},{name:'supplier_code',type:'string'},{name:'supplier_name',type:'string'},{name:'supplier_contact_person',type:'string'},{name:'supplier_address',type:'string'},{name:'supplier_phone',type:'string'},{name:'supplier_fax',type:'string'},{name:'supplier_email',type:'string'},{name:'supplier_status',type:'string'},{name:'supplier_status_text',type:'string'},{name:'keterangan_blacklist',type:'string'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/masterSupplier/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.master_pos.model.model_masterTable',{extend:'Ext.data.Model',alias:'model_masterTable',fields:[{name:'id',type:'int'},{name:'table_name',type:'string'},{name:'table_desc',type:'string'},{name:'table_no',type:'string'},{name:'room_name',type:'string'},{name:'room_no',type:'string'},{name:'room_id',type:'int'},{name:'floorplan_name',type:'string'},{name:'floorplan_id',type:'int'},{name:'kapasitas',type:'int'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'},{name:'table_tipe',type:'string'},{name:'table_tipe_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/masterTable/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.billing.store.store_sortReport',{extend:'Ext.data.Store',fields:['val','name'],data:[{"val":"payment_date","name":"Payment Date"},{"val":"billing_no","name":"Billing No"}],autoLoad:false});Ext.define('ExtApp.modules.master_pos.store.store_masterSupplier',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_masterSupplier',autoLoad:false,remoteSort:true});Ext.define('ExtApp.modules.master_pos.store.store_masterTable',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_masterTable',autoLoad:false,remoteSort:true});Ext.define("ExtApp.modules.billing.view.reportSalesBagiHasil",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var v_this=this;var helperGrid=theApp.getHelper('Grid');var phpJs=theApp.getHelper('phpJs');var store_tipeBilling_reportSalesBagiHasil=theApp.getStore('store_tipeBilling_reportSalesBagiHasil',false);if(store_tipeBilling_reportSalesBagiHasil==false){store_tipeBilling_reportSalesBagiHasil=theApp.copyStore('master_pos','store_masterTable','store_tipeBilling_reportSalesBagiHasil');}
store_tipeBilling_reportSalesBagiHasil.proxy.extraParams.is_dropdown=1;store_tipeBilling_reportSalesBagiHasil.proxy.extraParams.limit=9999;store_tipeBilling_reportSalesBagiHasil.proxy.extraParams.show_all_text=1;store_tipeBilling_reportSalesBagiHasil.proxy.extraParams.show_choose_text=0;var store_ComboboxMasterSupplier_reportSalesBagiHasil=theApp.getStore('store_ComboboxMasterSupplier_reportSalesBagiHasil',false);if(store_ComboboxMasterSupplier_reportSalesBagiHasil==false){store_ComboboxMasterSupplier_reportSalesBagiHasil=theApp.copyStore('master_pos','store_masterSupplier','store_ComboboxMasterSupplier_reportSalesBagiHasil');}
store_ComboboxMasterSupplier_reportSalesBagiHasil.proxy.extraParams.limit=9999999;store_ComboboxMasterSupplier_reportSalesBagiHasil.proxy.extraParams.show_choose_text=1;store_ComboboxMasterSupplier_reportSalesBagiHasil.proxy.extraParams.show_all_text=0;store_ComboboxMasterSupplier_reportSalesBagiHasil.proxy.extraParams.is_dropdown=1;store_ComboboxMasterSupplier_reportSalesBagiHasil.proxy.extraParams.keywords='';store_ComboboxMasterSupplier_reportSalesBagiHasil.proxy.extraParams.validated=0;var add_parameter='_dc='+phpJs.mktime();add_parameter+='&supplier_id=0';add_parameter+='&date_from='+phpJs.date("d-m-Y");add_parameter+='&date_till='+phpJs.date("d-m-Y");add_parameter+='&tipe=';var url_report=appUrl+'billing/reportSalesBagiHasil/print_reportSalesBagiHasil?'+add_parameter;return desktop.createWindow({id:me.id,title:'Laporan Bagi Hasil',width:1000,height:600,iconCls:'icon-grid',animCollapse:false,constrainHeader:true,border:0,layout:{type:'fit'},items:[{xtype:"panel",layout:'fit',width:1000,height:500,border:false,items:[{xtype:"component",id:'print_area_reportSalesBagiHasil',autoEl:{tag:"iframe",src:url_report},border:false}],dockedItems:[{xtype:'toolbar',dock:'top',items:[{xtype:'datefield',fieldLabel:'Date',name:'date_from',id:'src_dateFrom_reportSalesBagiHasil',labelSeparator:'',format:'d-m-Y',altFormats:'Y-m-d|d-m-Y|dmY|Ymd',margin:'5 0 0 0',labelWidth:35,width:150,value:phpJs.date('d-m-Y'),allowBlank:false},{xtype:'datefield',fieldLabel:' To ',name:'date_till',id:'src_dateTill_reportSalesBagiHasil',labelSeparator:'',format:'d-m-Y',altFormats:'Y-m-d|d-m-Y|dmY|Ymd',margin:'5 10 0 10',labelWidth:20,width:125,value:phpJs.date('d-m-Y'),allowBlank:false},'-',{xtype:'combobox',name:'tipeBillingReport',id:'srcTipeBillingReport_reportSalesBagiHasil',fieldLabel:'',emptyText:'Semua Tipe',width:120,labelWidth:0,store:store_tipeBilling_reportSalesBagiHasil,displayField:'table_name',valueField:'id',queryMode:'local',allowBlank:true},'-',{xtype:'combobox',name:'supplier_id',id:'src_supplier_id_reportSalesBagiHasil',fieldLabel:'',emptyText:'- Pilih Supplier -',labelWidth:0,width:200,allowBlank:false,store:store_ComboboxMasterSupplier_reportSalesBagiHasil,displayField:'supplier_name',valueField:'id',queryMode:'local'},'-',{xtype:'button',text:'Search',scale:'medium',margin:'15 10 0 0',itemId:'btnSearch_reportSalesBagiHasil',tooltip:'Search',iconCls:'btn-search',handler:function(){me.print_reportSalesBagiHasil(0);}},'-',{xtype:'button',text:'Print',scale:'medium',margin:'15 10 0 0',itemId:'btnPrint_reportSalesBagiHasil',tooltip:'Print',iconCls:'btn-print',handler:function(){me.print_reportSalesBagiHasil(1);}},{xtype:'button',text:'Thermal',scale:'medium',margin:'15 10 0 0',itemId:'btnPrintThermal_reportSalesBagiHasil',tooltip:'Print',iconCls:'btn-print',handler:function(){me.print_reportSalesBagiHasil(3);}},]},{xtype:'toolbar',dock:'bottom',items:['->',{text:'CLOSE',textAlign:'center',iconCls:'btn-cancel',listeners:{click:function(){me.doClose(me.id);}}}]}]}],listeners:{boxready:function(){store_ComboboxMasterSupplier_reportSalesBagiHasil.load();store_tipeBilling_reportSalesBagiHasil.load();}}});}});