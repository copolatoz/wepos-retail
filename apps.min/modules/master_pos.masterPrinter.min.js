/**
 * Filename: master_pos.masterPrinter.js
 * Generated 2018-09-04 at 08:54:45 PM
 */
Ext.define('ExtApp.modules.master_pos.model.model_masterPrinter',{extend:'Ext.data.Model',alias:'model_masterPrinter',fields:[{name:'id',type:'int'},{name:'printer_name',type:'string'},{name:'printer_ip',type:'string'},{name:'printer_tipe',type:'string'},{name:'printer_pin',type:'string'},{name:'print_method',type:'string'},{name:'print_logo',type:'int'},{name:'print_logo_text',type:'string'},{name:'is_print_anywhere',type:'int'},{name:'is_print_anywhere_text',type:'string'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/masterPrinter/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.master_pos.store.store_masterPrinter',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_masterPrinter',autoLoad:false,remoteSort:true});Ext.define('ExtApp.modules.master_pos.store.store_printerTipe',{extend:'Ext.data.Store',fields:['val','name'],data:[{"val":"EPSON","name":"EPSON"},{"val":"BIRCH","name":"BIRCH"},{"val":"SEWOO","name":"SEWOO"},{"val":"QPOS","name":"QPOS"},{"val":"ENIBIT","name":"ENIBIT"},{"val":"ZJIANG","name":"ZJIANG"},{"val":"STAR","name":"STAR"}],autoLoad:false});Ext.define('ExtApp.modules.master_pos.store.store_printerPIN',{extend:'Ext.data.Store',fields:['val','name'],data:[{"val":"32 CHAR","name":"32 CHAR/58mm"},{"val":"40 CHAR","name":"40 CHAR"},{"val":"42 CHAR","name":"42 CHAR"},{"val":"46 CHAR","name":"46 CHAR"},{"val":"48 CHAR","name":"48 CHAR"}],autoLoad:false});Ext.define('ExtApp.modules.master_pos.store.store_printMethod',{extend:'Ext.data.Store',fields:['val','name'],data:[{"val":"ESC/POS","name":"COMMAND ESCP/POS"},{"val":"JSPRINT","name":"ADDON JSPRINT"},{"val":"BROWSER","name":"BROWSER PRINT"}],autoLoad:false});Ext.define("ExtApp.modules.master_pos.view.masterPrinter",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var store_masterPrinter_masterPrinter=theApp.getStore('store_masterPrinter_masterPrinter',false);if(store_masterPrinter_masterPrinter==false){store_masterPrinter_masterPrinter=theApp.copyStore('master_pos','store_masterPrinter','store_masterPrinter_masterPrinter');}
store_masterPrinter_masterPrinter.proxy.extraParams.limit=25;store_masterPrinter_masterPrinter.proxy.extraParams.show_all_text=0;store_masterPrinter_masterPrinter.proxy.extraParams.show_choose_text=0;store_masterPrinter_masterPrinter.proxy.extraParams.is_dropdown=0;store_masterPrinter_masterPrinter.proxy.extraParams.keywords='';var helperGrid=theApp.getHelper('Grid');var selModel_masterPrinter=Ext.create('Ext.selection.CheckboxModel',{listeners:{selectionchange:function(sm,selections){Ext.getCmp('grid_masterPrinter').down('#deleteButton_masterPrinter').setDisabled(selections.length==0);}}});me.pagingtb_masterPrinter=helperGrid.paging({ds:store_masterPrinter_masterPrinter,title:'Printer Manager'});return desktop.createWindow({id:me.id,title:'Printer Manager',width:800,height:480,iconCls:'icon-grid',animCollapse:false,constrainHeader:true,resizable:true,maximized:false,border:0,layout:{type:'fit'},items:[{xtype:'gridpanel',margins:'0 0 0 0',region:'center',store:store_masterPrinter_masterPrinter,id:'grid_masterPrinter',scroll:true,selModel:selModel_masterPrinter,columns:[{xtype:'gridcolumn',dataIndex:'id',text:'#ID',width:50,hideable:false},{xtype:'gridcolumn',dataIndex:'printer_ip',text:'Printer IP / Share Name',width:200},{xtype:'gridcolumn',dataIndex:'printer_name',text:'Printer Name',width:200},{xtype:'gridcolumn',dataIndex:'printer_tipe',text:'Tipe',width:100},{xtype:'gridcolumn',dataIndex:'printer_pin',text:'Length Char',width:120},{xtype:'gridcolumn',dataIndex:'print_method',text:'Method',width:100},{xtype:'gridcolumn',dataIndex:'print_logo_text',text:'Print Logo',width:100},{xtype:'gridcolumn',dataIndex:'is_print_anywhere_text',text:'Print Anywhere',width:150},{xtype:'gridcolumn',dataIndex:'is_active_text',text:'Status Active',width:100}],viewConfig:{stripeRows:true,forceFit:true},listeners:{itemdblclick:function(view,rec,item,index,eventObj){var getSelection=Ext.getCmp('grid_masterPrinter').getSelectionModel().selected;if(getSelection.length>0){me.formType='edit';me.edit_data=rec.data;me.createWindow(me,'add_masterPrinter');}}},bbar:me.pagingtb_masterPrinter,dockedItems:[{xtype:'toolbar',dock:'top',items:[{xtype:'textfield',name:'keywords',id:'keywords_masterPrinter',width:200,labelSeparator:'',emptyText:'Keywords: Printer Name / IP ',anchor:'100%',listeners:{specialkey:function(field,e){if(e.getKey()==e.ENTER){me.search_masterPrinter();}}}},{xtype:'button',text:'Search',itemId:'btnFilterSearch_masterPrinter',tooltip:'Search',iconCls:'btn-search',handler:function(){me.search_masterPrinter();}},{xtype:'button',text:'Reset',itemId:'btnResetFilterSearch_masterPrinter',tooltip:'Reset',iconCls:'btn-reset',handler:function(){me.search_masterPrinter(true);}},'->',{text:'Add',itemId:'addButton_masterPrinter',tooltip:'Add Printer',iconCls:'btn-add',handler:function(){me.formType='add';me.createWindow(me,'add_masterPrinter');}},'-',{text:'Delete',itemId:'deleteButton_masterPrinter',tooltip:'Delete Printer',iconCls:'btn-delete',disabled:true,handler:function(){var getSelection=Ext.getCmp('grid_masterPrinter').getSelectionModel().selected;if(getSelection.length>0){me.delete_data=getSelection.items[0].data;me.deleteConfirm_masterPrinter();}else{ExtApp.Msg.info('Please Select Printer!');}}},'-',]}]}],listeners:{boxready:function(){me.search_masterPrinter();}}});},add_masterPrinter:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var Titletext='Add New ';if(me.formType=='edit'){Titletext='Update ';}
var store_printerTipe_masterPrinter=theApp.getStore('store_printerTipe_masterPrinter',false);if(store_printerTipe_masterPrinter==false){store_printerTipe_masterPrinter=theApp.copyStore('master_pos','store_printerTipe','store_printerTipe_masterPrinter');}
var store_printerPIN_masterPrinter=theApp.getStore('store_printerPIN_masterPrinter',false);if(store_printerPIN_masterPrinter==false){store_printerPIN_masterPrinter=theApp.copyStore('master_pos','store_printerPIN','store_printerPIN_masterPrinter');}
var store_printMethod_masterPrinter=theApp.getStore('store_printMethod_masterPrinter',false);if(store_printMethod_masterPrinter==false){store_printMethod_masterPrinter=theApp.copyStore('master_pos','store_printMethod','store_printMethod_masterPrinter');}
return desktop.createWindow({id:me.id+'_add_masterPrinter',title:Titletext,width:450,height:350,iconCls:'btn-add',animCollapse:false,constrainHeader:true,resizable:false,minimizable:false,maximizable:false,modal:true,border:0,layout:{type:'fit'},items:[{xtype:'form',id:'form_masterPrinter',border:0,bodyPadding:10,margin:'0 0 0 0',items:[{xtype:'hidden',name:'form_type_masterPrinter',value:me.formType},{xtype:'hidden',name:'id'},{xtype:'textfield',name:'printer_ip',fieldLabel:'Printer IP',anchor:'100%',labelWidth:100,allowBlank:false},{xtype:'textfield',name:'printer_name',fieldLabel:'Printer Name',anchor:'100%',labelWidth:100,allowBlank:false},{xtype:'combobox',name:'printer_tipe',fieldLabel:'Tipe',emptyText:'-Select-',width:250,labelWidth:100,store:store_printerTipe_masterPrinter,displayField:'name',valueField:'val',queryMode:'local',allowBlank:false},{xtype:'combobox',name:'printer_pin',fieldLabel:'Length Char',emptyText:'-Select-',width:250,labelWidth:100,store:store_printerPIN_masterPrinter,displayField:'name',valueField:'val',queryMode:'local',allowBlank:false},{xtype:'combobox',name:'print_method',fieldLabel:'Method',emptyText:'-Select-',width:350,labelWidth:100,store:store_printMethod_masterPrinter,displayField:'name',valueField:'val',queryMode:'local',allowBlank:false},{xtype:'checkbox',name:'is_print_anywhere',fieldLabel:'Used as Print Anywhere?',inputValue:'1',labelWidth:170,},{xtype:'checkbox',name:'print_logo',fieldLabel:'Print Logo',inputValue:'1',},{xtype:'checkbox',name:'is_active',fieldLabel:'Status Active',inputValue:'1'}]}],buttons:[{text:'Save',formBind:true,id:'btnSave_masterPrinter',iconCls:'btn-save',handler:function(){me.save_masterPrinter();}},{text:'Close',iconCls:'btn-cancel',handler:function(){me.doClose(me.id+'_add_masterPrinter');}}],listeners:{show:function(){var form=Ext.getCmp('form_masterPrinter').getForm();if(me.formType=='edit'){form.setValues(me.edit_data);}else{form.reset();form.findField('is_active').setValue(1);}}}});}});