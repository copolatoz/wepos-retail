/**
 * Filename: modules.cashier.billingCashierRetail_helper.js
 * Generated 2021-01-01 at 03:47:41 AM
 */
Ext.define("ExtApp.helper.numlockVirtual",{popup:function(getNumlockData,scope){var me=scope;var h_this=this;me.getNumlockData=getNumlockData;if(!me.getNumlockData){alert('Target Field Not Found!');return false;}
if(!me.getNumlockData.defaultValue){me.getNumlockData.defaultValue=0;}
if(!me.getNumlockData.title){if(me.getNumlockData.tipe=='calculator'){me.getNumlockData.title='Calculator Virtual';}else{me.getNumlockData.title='Numlock Virtual';}}
var d=new Date();var n=d.getTime();me.getNumlockData.numlockRandNo=n;var WinIdNumlock='WinNumlockVirtual';me.WinIdNumlock=WinIdNumlock;if(!me.WinNumlockVirtual){me.WinNumlockVirtual=Ext.create('Ext.window.Window',{id:'numlockPopup_'+WinIdNumlock,title:me.getNumlockData.title,width:300,iconCls:'icon-keyboard',animCollapse:false,constrainHeader:true,resizable:false,closable:false,minimizable:false,maximizable:false,modal:true,border:0,layout:{type:'fit'},items:[{xtype:'form',id:'form_numlockVirtual_'+me.WinIdNumlock,width:300,border:false,bodyBorder:false,items:[{xtype:'panel',layout:{type:'anchor'},bodyPadding:10,border:false,items:[{xtype:'displayfield',name:'numlock_result',anchor:'100%',labelSeparator:'',labelWidth:0,height:50,fieldStyle:'color:#444; text-align: right; font-weight:bold; font-size:24px; border: 1px solid #999; padding: 10px 15px;'},{xtype:'fieldcontainer',layout:{type:'column'},anchor:'100%',fieldLabel:'',items:[{xtype:'button',name:'numlock_no7',text:'7',width:50,height:50,margin:'0 0 0 0',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,7,'numlock_no7');}}},{xtype:'button',name:'numlock_no8',text:'8',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,8,'numlock_no8');}}},{xtype:'button',name:'numlock_no9',text:'9',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,9,'numlock_no9');}}},{xtype:'button',name:'numlock_clear',text:'C',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'','numlock_clear');}}},{xtype:'button',name:'numlock_remove',text:'<=',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'','numlock_remove');}}}]},{xtype:'fieldcontainer',layout:{type:'column'},anchor:'100%',fieldLabel:'',items:[{xtype:'button',name:'numlock_no4',text:'4',width:50,height:50,margin:'0 0 0 0',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,4,'numlock_no4');}}},{xtype:'button',name:'numlock_no5',text:'5',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,5,'numlock_no5');}}},{xtype:'button',name:'numlock_no6',text:'6',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,6,'numlock_no6');}}},{xtype:'button',name:'numlock_bagi',id:'numlock_bagi'+me.WinIdNumlock,text:'/',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'/','numlock_bagi');}}},{xtype:'button',name:'numlock_kali',id:'numlock_kali'+me.WinIdNumlock,text:'X',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'X','numlock_kali');}}}]},{xtype:'fieldcontainer',layout:{type:'column'},anchor:'100%',fieldLabel:'',items:[{xtype:'button',name:'numlock_no1',text:'1',width:50,height:50,margin:'0 0 0 0',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'1','numlock_no1');}}},{xtype:'button',name:'numlock_no2',text:'2',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'2','numlock_no2');}}},{xtype:'button',name:'numlock_no3',text:'3',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'3','numlock_no3');}}},{xtype:'button',name:'numlock_tambah',id:'numlock_tambah'+me.WinIdNumlock,text:'+',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'+','numlock_tambah');}}},{xtype:'button',name:'numlock_kurang',id:'numlock_kurang'+me.WinIdNumlock,text:'-',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'-','numlock_kurang');}}}]},{xtype:'fieldcontainer',layout:{type:'column'},anchor:'100%',fieldLabel:'',items:[{xtype:'button',name:'numlock_no000',text:'000',width:50,height:50,margin:'0 0 0 0',textAlign:'center',cls:'button-size20',listeners:{click:function(){h_this.numlockAddCalc(me,'000','numlock_no0');}}},{xtype:'button',name:'numlock_no0',text:'0',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'0','numlock_no0');}}},{xtype:'button',name:'numlock_titik',text:'.',width:50,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-numlock',listeners:{click:function(){h_this.numlockAddCalc(me,'.','numlock_titik');}}},{xtype:'button',name:'numlock_enter',text:'OK / ENTER',width:105,height:50,margin:'0 0 0 5',textAlign:'center',cls:'button-size18',listeners:{click:function(){h_this.numlockAddCalc(me,'E','numlock_enter');}}}]}]}]}],listeners:{show:function(){var form=Ext.getCmp('form_numlockVirtual_'+me.WinIdNumlock).getForm();form.findField('numlock_result').setValue(me.getNumlockData.defaultValue);if(me.getNumlockData.tipe=='numlock'){Ext.getCmp('numlock_kurang'+me.WinIdNumlock).setDisabled(true);Ext.getCmp('numlock_tambah'+me.WinIdNumlock).setDisabled(true);Ext.getCmp('numlock_bagi'+me.WinIdNumlock).setDisabled(true);Ext.getCmp('numlock_kali'+me.WinIdNumlock).setDisabled(true);}else{Ext.getCmp('numlock_kurang'+me.WinIdNumlock).setDisabled(false);Ext.getCmp('numlock_tambah'+me.WinIdNumlock).setDisabled(false);Ext.getCmp('numlock_bagi'+me.WinIdNumlock).setDisabled(false);Ext.getCmp('numlock_kali'+me.WinIdNumlock).setDisabled(false);}
me.WinNumlockVirtual.setTitle(me.getNumlockData.title);}}});}
me.WinNumlockVirtual.show();},numlockAddCalc:function(scope,addVal,FieldName){var me=scope;var form=Ext.getCmp('form_numlockVirtual_'+me.WinIdNumlock).getForm();var getValNumlockResult=form.findField('numlock_result').getValue();if(me.getNumlockData.tipe=='numlock'){if(FieldName=='numlock_kurang'||FieldName=='numlock_tambah'||FieldName=='numlock_bagi'||FieldName=='numlock_kali'){return false;}else
if(FieldName=='numlock_enter'){getValNumlockResult=parseFloat(getValNumlockResult);Ext.getCmp(me.getNumlockData.focusID).setValue(getValNumlockResult);me.WinNumlockVirtual.hide();if(me.getNumlockData.triggerID!=''){Ext.getCmp(me.getNumlockData.triggerID).fireEvent('click');}}else
{if(FieldName=='numlock_remove'){var totChrNumLock=getValNumlockResult.length;if((totChrNumLock-1)<=0){getValNumlockResult=0;}else{getValNumlockResult=getValNumlockResult.substr(0,(totChrNumLock-1));}}else
if(FieldName=='numlock_clear'){getValNumlockResult=0;}else
if(FieldName=='numlock_titik'){getValNumlockResult=getValNumlockResult+''+addVal;}else{getValNumlockResult=getValNumlockResult+''+addVal;getValNumlockResult=parseFloat(getValNumlockResult);}
form.findField('numlock_result').setValue(getValNumlockResult);}}}});