/**
 * Filename: CoreApps_helper.js
 * Generated 2019-04-16 at 07:10:06 AM
 */
Ext.define("ExtApp.helper.GUtil",{alias:'GUtil',serialize:function(form_data,text_send)
{var serial='';if(form_data!=''){for(var value in form_data){if(Ext.getCmp(form_data[value]).getXType()=='datefield'||Ext.getCmp(form_data[value]).getXType()=='timefield'){getVal=form_data[value]+'='+encodeURI(Ext.getCmp(form_data[value]).getRawValue());}else{getVal=form_data[value]+'='+encodeURI(Ext.getCmp(form_data[value]).getValue());}
if(serial==''){serial=getVal;}else{serial+='&'+getVal;}}}
if(text_send!=''){serial=text_send+'&'+serial;}
return serial;},showReport:function(me,title,url,width,height){me.printPopup=new Ext.Window({title:title,width:width,height:height,layout:'fit',border:false,modal:true,items:[{xtype:"component",id:'iframe-print-popup',autoEl:{tag:"iframe",src:reportServiceUrl+'do=loading'}}],dockedItems:[{xtype:'toolbar',dock:'bottom',items:[{text:'REFRESH',textAlign:'center',iconCls:'btn-refresh',listeners:{click:function(){var getIframe=Ext.getCmp('iframe-print-popup').getEl().dom;getIframe.src=url;}}},'->',{text:'PRINT',textAlign:'center',iconCls:'btn-print',listeners:{click:function(){var getIframe=Ext.getCmp('iframe-print-popup').getEl().dom;getIframe.src=url+'&do=print';}}},'',{text:'CLOSE',textAlign:'center',iconCls:'btn-cancel',listeners:{click:function(){me.printPopup.hide();var getIframe=Ext.getCmp('iframe-print-popup').getEl().dom;getIframe.src=reportServiceUrl+'do=loading';}}}]}],listeners:{show:function(){me.printPopup.setTitle(title);var getIframe=Ext.getCmp('iframe-print-popup').getEl().dom;getIframe.src=url;}}});me.printPopup.show();}});Ext.define("ExtApp.helper.Grid",{alias:'HelperGrid',paging:function(o){var limit=o.limit||25;var paging=Ext.create('Ext.PagingToolbar',{store:o.ds,pageSize:limit,displayInfo:true,displayMsg:o.title+' {0} - {1} of {2}',emptyMsg:"No "+o.title+" to display",items:['-',' ','limit',' ',new Ext.form.ComboBox({store:new Ext.data.SimpleStore({fields:['limit'],data:[[5],[10],[25],[50],[100]]}),value:limit,clearTrigger:false,displayField:'limit',valueField:'limit',editable:false,mode:'local',triggerAction:'all',width:50,listeners:{select:function(c,r,i){paging.store.pageSize=c.getValue();paging.store.currentPage=1;paging.store.load({params:{limit:c.getValue(),page:1,start:0}});}}})]});return paging;},search:function(o){var oS=new Ext.create('Ext.ux.form.SearchField',({store:o.ds,code:o.code,width:o.width||180}));var oF={id:o.code+'_searchCombo',xtype:'combo',displayField:'v',mode:'local',triggerAction:'all',editable:false,valueField:'id',allowBlank:false,emptyText:'CHOOSE COLUMN',selectOnFocus:true,store:new Ext.data.SimpleStore({fields:['id','v'],data:o.field}),width:o.width||150};return['Search : ',' ',oF,oS];}});Ext.define("ExtApp.helper.phpJs",{mktime:function(){var d=new Date(),r=arguments,i=0,e=['Hours','Minutes','Seconds','Month','Date','FullYear'];for(i=0;i<e.length;i++){if(typeof r[i]==='undefined'){r[i]=d['get'+e[i]]();r[i]+=(i===3);}else{r[i]=parseInt(r[i],10);if(isNaN(r[i])){return false;}}}
r[5]+=(r[5]>=0?(r[5]<=69?2e3:(r[5]<=100?1900:0)):0);d.setFullYear(r[5],r[3]-1,r[4]);d.setHours(r[0],r[1],r[2]);return(d.getTime()/ 1e3>>0)-(d.getTime()<0);},explode:function(delimiter,string,limit){var emptyArray={0:''};if(arguments.length<2||typeof arguments[0]=='undefined'||typeof arguments[1]=='undefined'){return null;}
if(delimiter===''||delimiter===false||delimiter===null){return false;}
if(typeof delimiter=='function'||typeof delimiter=='object'||typeof string=='function'||typeof string=='object'){return emptyArray;}
if(delimiter===true){delimiter='1';}
if(!limit){return string.toString().split(delimiter.toString());}
var splitted=string.toString().split(delimiter.toString());var partA=splitted.splice(0,limit-1);var partB=splitted.join(delimiter.toString());partA.push(partB);return partA;},implode:function(glue,pieces){var i='',retVal='',tGlue='';if(arguments.length===1){pieces=glue;glue='';}if(typeof(pieces)==='object'){if(Object.prototype.toString.call(pieces)==='[object Array]'){return pieces.join(glue);}
for(i in pieces){retVal+=tGlue+pieces[i];tGlue=glue;}
return retVal;}return pieces;},date:function(format,timestamp){var that=this,jsdate,f,formatChr=/\\?([a-z])/gi,formatChrCb,_pad=function(n,c){if((n=n+'').length<c){return new Array((++c)-n.length).join('0')+n;}
return n;},txt_words=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];formatChrCb=function(t,s){return f[t]?f[t]():s;};f={d:function(){return _pad(f.j(),2);},D:function(){return f.l().slice(0,3);},j:function(){return jsdate.getDate();},l:function(){return txt_words[f.w()]+'day';},N:function(){return f.w()||7;},S:function(){var j=f.j();return j<4|j>20&&['st','nd','rd'][j%10-1]||'th';},w:function(){return jsdate.getDay();},z:function(){var a=new Date(f.Y(),f.n()-1,f.j()),b=new Date(f.Y(),0,1);return Math.round((a-b)/ 864e5)+1;},W:function(){var a=new Date(f.Y(),f.n()-1,f.j()-f.N()+3),b=new Date(a.getFullYear(),0,4);return _pad(1+Math.round((a-b)/ 864e5 / 7),2);},F:function(){return txt_words[6+f.n()];},m:function(){return _pad(f.n(),2);},M:function(){return f.F().slice(0,3);},n:function(){return jsdate.getMonth()+1;},t:function(){return(new Date(f.Y(),f.n(),0)).getDate();},L:function(){var j=f.Y();return j%4==0&j%100!=0|j%400==0;},o:function(){var n=f.n(),W=f.W(),Y=f.Y();return Y+(n===12&&W<9?-1:n===1&&W>9);},Y:function(){return jsdate.getFullYear();},y:function(){return(f.Y()+"").slice(-2);},a:function(){return jsdate.getHours()>11?"pm":"am";},A:function(){return f.a().toUpperCase();},B:function(){var H=jsdate.getUTCHours()*36e2,i=jsdate.getUTCMinutes()*60,s=jsdate.getUTCSeconds();return _pad(Math.floor((H+i+s+36e2)/ 86.4)%1e3,3);},g:function(){return f.G()%12||12;},G:function(){return jsdate.getHours();},h:function(){return _pad(f.g(),2);},H:function(){return _pad(f.G(),2);},i:function(){return _pad(jsdate.getMinutes(),2);},s:function(){return _pad(jsdate.getSeconds(),2);},u:function(){return _pad(jsdate.getMilliseconds()*1000,6);},e:function(){throw'Not supported (see source code of date() for timezone on how to add support)';},I:function(){var a=new Date(f.Y(),0),c=Date.UTC(f.Y(),0),b=new Date(f.Y(),6),d=Date.UTC(f.Y(),6);return 0+((a-c)!==(b-d));},O:function(){var tzo=jsdate.getTimezoneOffset(),a=Math.abs(tzo);return(tzo>0?"-":"+")+_pad(Math.floor(a / 60)*100+a%60,4);},P:function(){var O=f.O();return(O.substr(0,3)+":"+O.substr(3,2));},T:function(){return'UTC';},Z:function(){return-jsdate.getTimezoneOffset()*60;},c:function(){return'Y-m-d\\Th:i:sP'.replace(formatChr,formatChrCb);},r:function(){return'D, d M Y H:i:s O'.replace(formatChr,formatChrCb);},U:function(){return jsdate / 1000|0;}};this.date=function(format,timestamp){that=this;jsdate=(timestamp==null?new Date():(timestamp instanceof Date)?new Date(timestamp):new Date(timestamp*1000));return format.replace(formatChr,formatChrCb);};return this.date(format,timestamp);},empty:function(mixed_var){var key;if(mixed_var===""||mixed_var===0||mixed_var==="0"||mixed_var===null||mixed_var===false||typeof mixed_var==='undefined'){return true;}
if(typeof mixed_var=='object'){for(key in mixed_var){return false;}
return true;}
return false;},trim:function(str,charlist){var whitespace,l=0,i=0;str+='';if(!charlist){whitespace=" \n\r\t\f\x0b\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000";}else{charlist+='';whitespace=charlist.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,'$1');}
l=str.length;for(i=0;i<l;i++){if(whitespace.indexOf(str.charAt(i))===-1){str=str.substring(i);break;}}
l=str.length;for(i=l-1;i>=0;i--){if(whitespace.indexOf(str.charAt(i))===-1){str=str.substring(0,i+1);break;}}
return whitespace.indexOf(str.charAt(0))===-1?str:'';},strlen:function(string){var str=string+'';var i=0,chr='',lgth=0;if(!this.php_js||!this.php_js.ini||!this.php_js.ini['unicode.semantics']||this.php_js.ini['unicode.semantics'].local_value.toLowerCase()!=='on'){return string.length;}
var getWholeChar=function(str,i){var code=str.charCodeAt(i);var next='',prev='';if(0xD800<=code&&code<=0xDBFF){if(str.length<=(i+1)){throw'High surrogate without following low surrogate';}
next=str.charCodeAt(i+1);if(0xDC00>next||next>0xDFFF){throw'High surrogate without following low surrogate';}
return str.charAt(i)+str.charAt(i+1);}else if(0xDC00<=code&&code<=0xDFFF){if(i===0){throw'Low surrogate without preceding high surrogate';}
prev=str.charCodeAt(i-1);if(0xD800>prev||prev>0xDBFF){throw'Low surrogate without preceding high surrogate';}
return false;}
return str.charAt(i);};for(i=0,lgth=0;i<str.length;i++){if((chr=getWholeChar(str,i))===false){continue;}
lgth++;}
return lgth;},isset:function(){var a=arguments,l=a.length,i=0,undef;if(l===0){throw new Error('Empty isset');}
while(i!==l){if(a[i]===undef||a[i]===null){return false;}
i++;}
return true;},strtolower:function(str){return(str+'').toLowerCase();},substr:function(str,start,len){var i=0,allBMP=true,es=0,el=0,se=0,ret='';str+='';var end=str.length;this.php_js=this.php_js||{};this.php_js.ini=this.php_js.ini||{};switch((this.php_js.ini['unicode.semantics']&&this.php_js.ini['unicode.semantics'].local_value.toLowerCase())){case'on':for(i=0;i<str.length;i++){if(/[\uD800-\uDBFF]/.test(str.charAt(i))&&/[\uDC00-\uDFFF]/.test(str.charAt(i+1))){allBMP=false;break;}}
if(!allBMP){if(start<0){for(i=end-1,es=(start+=end);i>=es;i--){if(/[\uDC00-\uDFFF]/.test(str.charAt(i))&&/[\uD800-\uDBFF]/.test(str.charAt(i-1))){start--;es--;}}}else{var surrogatePairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;while((surrogatePairs.exec(str))!=null){var li=surrogatePairs.lastIndex;if(li-2<start){start++;}else{break;}}}
if(start>=end||start<0){return false;}
if(len<0){for(i=end-1,el=(end+=len);i>=el;i--){if(/[\uDC00-\uDFFF]/.test(str.charAt(i))&&/[\uD800-\uDBFF]/.test(str.charAt(i-1))){end--;el--;}}
if(start>end){return false;}
return str.slice(start,end);}else{se=start+len;for(i=start;i<se;i++){ret+=str.charAt(i);if(/[\uD800-\uDBFF]/.test(str.charAt(i))&&/[\uDC00-\uDFFF]/.test(str.charAt(i+1))){se++;}}
return ret;}
break;}
case'off':default:if(start<0){start+=end;}
end=typeof len==='undefined'?end:(len<0?len+end:len+start);return start>=str.length||start<0||start>end?!1:str.slice(start,end);}
return undefined;},str_repeat:function(input,multiplier){return new Array(multiplier+1).join(input);},in_array:function(needle,haystack,argStrict){var key='',strict=!!argStrict;if(strict){for(key in haystack){if(haystack[key]===needle){return true;}}}else{for(key in haystack){if(haystack[key]==needle){return true;}}}
return false;},number_format:function(number,decimals,dec_point,thousands_sep){number=(number+'').replace(/[^0-9+\-Ee.]/g,'');var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==='undefined')?',':thousands_sep,dec=(typeof dec_point==='undefined')?'.':dec_point,s='',toFixedFix=function(n,prec){var k=Math.pow(10,prec);return''+Math.round(n*k)/ k;};s=(prec?toFixedFix(n,prec):''+Math.round(n)).split('.');if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep);}
if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0');}
return s.join(dec);},str_replace:function(search,replace,subject,count){var i=0,j=0,temp='',repl='',sl=0,fl=0,f=[].concat(search),r=[].concat(replace),s=subject,ra=Object.prototype.toString.call(r)==='[object Array]',sa=Object.prototype.toString.call(s)==='[object Array]';s=[].concat(s);if(count){this.window[count]=0;}
for(i=0,sl=s.length;i<sl;i++){if(s[i]===''){continue;}
for(j=0,fl=f.length;j<fl;j++){temp=s[i]+'';repl=ra?(r[j]!==undefined?r[j]:''):r[0];s[i]=(temp).split(f[j]).join(repl);if(count&&s[i]!==temp){this.window[count]+=(temp.length-s[i].length)/ f[j].length;}}}
return sa?s:s[0];},priceFormat:function(nominal,decimal,decimal_point,thousand_separator,show_00){if(!nominal){nominal=0;}
if(!decimal){decimal=2;}
if(!decimal_point){decimal_point=",";}
if(!thousand_separator){thousand_separator=".";}
if(!show_00){show_00=false;}
nominal=parseFloat(nominal);priceFormat=this.number_format(nominal,decimal,decimal_point,thousand_separator);if(show_00==false){priceFormat=this.str_replace(decimal_point+"00","",priceFormat);}
return priceFormat;},human2unix:function(v,s){if(this.empty(s)){var s='start';}
if(this.empty(v)){return'';}else{var p=this.explode('/',v);var n=p[2]+'-'+p[1]+'-'+p[0];if(s=='checkin'){var nn=n+' 02:00 PM';}else
if(s=='checkout'){var nn=n+' 00:00 PM';}else
if(s=='start'){var nn=n+' 00:01 AM';}else{var nn=n+' 11:59 PM';}
return this.human_to_unix(nn);}},unix2human:function(v,mk){if(this.empty(v)){return'';}else{var vx=v;var v=this.unix_to_human(v);var v2=this.explode(' ',v);var v3=this.explode('-',v2[0]);var v_new=v3[2]+'/'+v3[1]+'/'+v3[0];if(this.empty(mk)){var mk='d/m/Y';}
v_new=this.date(mk,vx);return v_new;}},human_to_unix:function(datestr){if(this.empty(datestr))
{return FALSE;}
datestr=this.trim(datestr);var split=this.explode(' ',datestr);var ex=this.explode("-",split[0]);var year=(this.strlen(ex[0])==2)?'20'+ex[0]:ex[0];var month=(this.strlen(ex[1])==1)?'0'+ex[1]:ex[1];var day=(this.strlen(ex[2])==1)?'0'+ex[2]:ex[2];var ex=this.explode(":",split[1]);var hour=(this.strlen(ex[0])==1)?'0'+ex[0]:ex[0];var min=(this.strlen(ex[1])==1)?'0'+ex[1]:ex[1];if(this.isset(ex[2]))
{var sec=(this.strlen(ex[2])==1)?'0'+ex['2']:ex[2];}
else
{var sec='00';}
if(this.isset(split[2]))
{var ampm=this.strtolower(split[2]);if(ampm=='pm'){var hour=parseFloat(hour)+12;}
if(this.strlen(hour)==1){var hour='0'+hour;}}
return this.mktime(hour,min,sec,month,day,year);},unix_to_human:function(time,seconds,fmt){if(this.empty(time)){var time='';}
if(this.empty(seconds)){var seconds='';}
if(this.empty(fmt)){var fmt='us';}
r=this.date('Y',time)+'-'+this.date('m',time)+'-'+this.date('d',time)+' ';if(fmt=='us')
{r+=this.date('h',time)+':'+this.date('i',time);}
else
{r+=this.date('H',time)+':'+this.date('i',time);}
if(seconds)
{r+=':'+this.date('s',time);}
if(fmt=='us')
{r+=' '+this.date('A',time);}
return r;},serialize:function(form_data,text_send){var serial='';if(form_data!=''){for(var value in form_data){if(Ext.getCmp(form_data[value]).getXType()=='datefield'||Ext.getCmp(form_data[value]).getXType()=='timefield'){getVal=form_data[value]+'='+encodeURI(Ext.getCmp(form_data[value]).getRawValue());}else{getVal=form_data[value]+'='+encodeURI(Ext.getCmp(form_data[value]).getValue());}
if(serial==''){serial=getVal;}else{serial+='&'+getVal;}}}
if(text_send!=''){serial=text_send+'&'+serial;}
return serial;},enc0d3:function(data){var b64='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc='',tmp_arr=[];if(!data){return data;}
do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4);}while(i<data.length);enc=tmp_arr.join('');var r=data.length%3;return(r?enc.slice(0,r-3):enc)+'==='.slice(r||3);},d3c0d3:function(data){var b64='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,dec='',tmp_arr=[];if(!data){return data;}
data+='';do{h1=b64.indexOf(data.charAt(i++));h2=b64.indexOf(data.charAt(i++));h3=b64.indexOf(data.charAt(i++));h4=b64.indexOf(data.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&0xff;o2=bits>>8&0xff;o3=bits&0xff;if(h3==64){tmp_arr[ac++]=String.fromCharCode(o1);}else if(h4==64){tmp_arr[ac++]=String.fromCharCode(o1,o2);}else{tmp_arr[ac++]=String.fromCharCode(o1,o2,o3);}}while(i<data.length);dec=tmp_arr.join('');return dec.replace(/\0+$/,'');},numberFormat:function(nominal,thousands_sep,dec_separator){if(!nominal){nominal=0;}
if(!thousands_sep){thousands_sep=".";}
if(!dec_separator){dec_separator=",";}
nominal=this.str_replace(thousands_sep,"",nominal);nominal=this.str_replace(dec_separator,".",nominal);nominal=this.str_replace(".00","",nominal);nominal=parseFloat(nominal);return nominal;}});